---
- name: install packages via pacman
  become: yes
  pacman:
    name: "{{ item }}"
    state: present
  with_items:
    - vim
    - git
    - tmux
    - keepassx2
    - xdotool
    - xclip
    - tree
    - clamav
    - unrar
    - pavucontrol
    - zsh
    - python-pip
    - meld
    - clementine
    - dstat
    - sysstat
    - iftop
    - iotop
    - htop
    - vagrant
    - pidgin
    - purple-skypeweb
    - the_silver_searcher
    - openconnect
    - networkmanager-openconnect
    - networkmanager-openvpn
    - wget
    - ipcalc
    - ifenslave
    - dia
    - libreoffice-fresh
    - icedtea-web
    - bind-tools
    - ttf-ubuntu-font-family
    - openssh
    - gnu-netcat
    - parallel
    - rsync
    - mutt
    - telegram-desktop
    - nmap
    - chromium
    - gimp
    - unzip
    - tcpdump
    - mtr

- block:
  - name: install packages for notebook
    become: true
    pacman:
      name: "{{ item }}"
      state: latest
    with_items:
      - blueman
      - bluez
      - bluez-utils
      - pulseaudio-bluetooth

  - name: deploy touchpad toggle script
    become: true
    template:
      src: touchpad_toggle.j2
      dest: /usr/local/bin/touchpad_toggle
      mode: 0755
  when: ansible_form_factor == "Notebook"

